{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "card-stack-scroll",
  "type": "registry:component",
  "description": "basically a card but it",
  "dependencies": [
    "gsap"
  ],
  "files": [
    {
      "path": "labs-registry/components-v1/card-stack-scroll.tsx",
      "content": "\"use client\";\nimport type React from \"react\";\nimport { useEffect, useRef } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n  CardContent,\n} from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\n\nif (typeof window !== \"undefined\") {\n  gsap.registerPlugin(ScrollTrigger);\n}\n\nexport type CardStackPropsBase = {\n  cardData: Array<Omit<CardProps, \"index\" | \"totalCards\">>;\n};\n\nexport type CardStackProps = React.ComponentPropsWithoutRef<\"section\"> &\n  CardStackPropsBase;\n\nexport interface CardProps {\n  id: number;\n  title: string;\n  description: string;\n  index: number;\n  totalCards: number;\n  color: string;\n  star?: React.ComponentType<\n    React.SVGProps<SVGSVGElement> & {\n      size?: number;\n      color?: string;\n      stroke?: string;\n      strokeWidth?: number;\n      pathClassName?: string;\n    }\n  >;\n}\n\nconst StackCard: React.FC<CardProps> = ({\n  star: Star,\n  title,\n  description,\n  index,\n  totalCards,\n  color,\n}) => {\n  const cardRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const card = cardRef.current;\n    const container = containerRef.current;\n    if (!card || !container) return;\n\n    const targetScale = 1 - (totalCards - index) * 0.05;\n\n    // Set initial state\n    gsap.set(card, {\n      scale: 1,\n      transformOrigin: \"center top\",\n    });\n\n    // Create scroll trigger for stacking effect\n    ScrollTrigger.create({\n      trigger: container,\n      start: \"top center\",\n      end: \"bottom top\",\n      scrub: 1,\n      onUpdate: (self) => {\n        const progress = self.progress;\n        const scale = gsap.utils.interpolate(1, targetScale, progress);\n\n        gsap.set(card, {\n          scale: Math.max(scale, targetScale),\n          transformOrigin: \"center top\",\n        });\n      },\n    });\n\n    return () => {\n      for (const trigger of ScrollTrigger.getAll()) {\n        trigger.kill();\n      }\n    };\n  }, [index, totalCards]);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"sticky top-0 flex min-h-[75vh] flex-col items-center justify-center\"\n    >\n      <div\n        ref={cardRef}\n        className=\"relative w-full max-w-[800px] origin-top px-2 md:px-4\"\n        style={{\n          top: `calc(-5vh + ${index * 25}px)`,\n        }}\n      >\n        <Card\n          className=\"relative flex min-h-[300px] flex-col justify-start gap-2 border-[3px] px-2 pt-8 md:min-h-[400px] md:gap-6 md:px-5 md:pt-12\"\n          style={{\n            borderColor: color,\n          }}\n        >\n          <CardHeader>\n            {Star && (\n              <span className=\"h-min w-min\">\n                <Star\n                  size={48}\n                  className=\"mb-1 stroke-6 stroke-foreground text-main\"\n                />\n              </span>\n            )}\n            <CardTitle className=\"text-2xl sm:text-3xl md:text-4xl\">\n              {title}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <CardDescription className=\"text-sm sm:text-lg md:text-xl\">\n              {description}\n            </CardDescription>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport function StackedCards({\n  cardData,\n  className,\n  ...props\n}: CardStackProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    gsap.fromTo(\n      container,\n      { opacity: 0 },\n      {\n        opacity: 1,\n        duration: 1.2,\n        ease: \"power2.out\",\n      },\n    );\n  }, []);\n\n  return (\n    <section ref={containerRef} className={cn(\"w-full\")} {...props}>\n      {cardData.map((card, index) => (\n        <StackCard\n          key={card.id}\n          id={card.id}\n          star={card.star}\n          title={card.title}\n          description={card.description}\n          index={index}\n          totalCards={cardData.length}\n          color={card.color}\n        />\n      ))}\n    </section>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}