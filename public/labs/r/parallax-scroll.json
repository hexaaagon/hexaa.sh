{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "parallax-scroll",
  "type": "registry:component",
  "description": "definitely just a scroll component but with parallax effect and more cooler",
  "dependencies": [
    "gsap",
    "lenis"
  ],
  "files": [
    {
      "path": "labs-registry/components-v1/parallax-scroll.tsx",
      "content": "\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport type React from \"react\";\nimport gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Lenis from \"lenis\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ParallaxLayerProps {\n  children?: React.ReactNode;\n  layer: string;\n  className?: string;\n}\n\nexport function ParallaxLayer({\n  children,\n  layer,\n  className,\n}: ParallaxLayerProps) {\n  return (\n    <div data-parallax-layer={layer} className={cn(className)}>\n      {children}\n    </div>\n  );\n}\n\nexport interface ParallaxScrollProps {\n  children: React.ReactNode;\n  classNames?: {\n    wrapper?: string;\n    section?: string;\n    container?: string;\n    layers?: string;\n    fade?: string;\n  };\n  layers?: ParallaxLayer[];\n}\n\nexport interface ParallaxLayer {\n  layer: string;\n  yPercent: number;\n}\n\nexport function ParallaxScroll({\n  children,\n  classNames,\n  layers = [\n    { layer: \"1\", yPercent: 70 },\n    { layer: \"2\", yPercent: 55 },\n    { layer: \"3\", yPercent: 40 },\n    { layer: \"4\", yPercent: 10 },\n  ],\n}: ParallaxScrollProps) {\n  const parallaxRef = useRef<HTMLDivElement>(null);\n  const lenisRef = useRef<Lenis | null>(null);\n\n  useEffect(() => {\n    gsap.registerPlugin(ScrollTrigger);\n\n    const triggerElement = parallaxRef.current?.querySelector(\n      \"[data-parallax-layers]\",\n    );\n\n    if (triggerElement) {\n      const tl = gsap.timeline({\n        scrollTrigger: {\n          trigger: triggerElement,\n          start: \"0% 0%\",\n          end: \"100% 0%\",\n          scrub: 0,\n        },\n      });\n\n      layers.forEach((layerObj, idx) => {\n        tl.to(\n          triggerElement.querySelectorAll(\n            `[data-parallax-layer=\"${layerObj.layer}\"]`,\n          ),\n          {\n            yPercent: layerObj.yPercent,\n            ease: \"none\",\n          },\n          idx === 0 ? undefined : \"<\",\n        );\n      });\n    }\n\n    const lenis = new Lenis();\n    lenisRef.current = lenis;\n\n    lenis.on(\"scroll\", ScrollTrigger.update);\n    gsap.ticker.add((time) => {\n      lenis.raf(time * 1000);\n    });\n    gsap.ticker.lagSmoothing(0);\n\n    return () => {\n      for (const st of ScrollTrigger.getAll()) {\n        st.kill();\n      }\n      if (triggerElement) {\n        gsap.killTweensOf(triggerElement);\n      }\n      lenis.destroy();\n      gsap.ticker.remove((time) => {\n        lenis.raf(time * 1000);\n      });\n    };\n  }, [layers]);\n\n  return (\n    <div ref={parallaxRef} className={cn(\"relative\", classNames?.wrapper)}>\n      <section className={cn(\"relative\", classNames?.section)}>\n        <div className={cn(\"relative overflow-hidden\", classNames?.container)}>\n          <div\n            data-parallax-layers\n            className={cn(\"relative\", classNames?.layers)}\n          >\n            {children}\n          </div>\n          <div\n            className={cn(\n              \"pointer-events-none absolute inset-x-0 bottom-0 h-[10vw] bg-linear-to-t from-dark-background to-transparent\",\n              classNames?.fade,\n            )}\n          />\n        </div>\n      </section>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}