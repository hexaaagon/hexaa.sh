{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "parallax-scroll",
  "type": "registry:component",
  "description": "definitely just a scroll component but with parallax effect and more cooler",
  "dependencies": [
    "gsap",
    "lenis"
  ],
  "files": [
    {
      "path": "labs-registry/components-v1/parallax-scroll.tsx",
      "content": "\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\nimport type React from \"react\";\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\nimport Lenis from \"lenis\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface ParallaxLayerProps {\r\n  children?: React.ReactNode;\r\n  layer: string;\r\n  className?: string;\r\n}\r\n\r\nexport function ParallaxLayer({\r\n  children,\r\n  layer,\r\n  className,\r\n}: ParallaxLayerProps) {\r\n  return (\r\n    <div data-parallax-layer={layer} className={cn(className)}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport interface ParallaxScrollProps {\r\n  children: React.ReactNode;\r\n  classNames?: {\r\n    wrapper?: string;\r\n    section?: string;\r\n    container?: string;\r\n    layers?: string;\r\n    fade?: string;\r\n  };\r\n  layers?: ParallaxLayer[];\r\n}\r\n\r\nexport interface ParallaxLayer {\r\n  layer: string;\r\n  yPercent: number;\r\n}\r\n\r\nexport function ParallaxScroll({\r\n  children,\r\n  classNames,\r\n  layers = [\r\n    { layer: \"1\", yPercent: 70 },\r\n    { layer: \"2\", yPercent: 55 },\r\n    { layer: \"3\", yPercent: 40 },\r\n    { layer: \"4\", yPercent: 10 },\r\n  ],\r\n}: ParallaxScrollProps) {\r\n  const parallaxRef = useRef<HTMLDivElement>(null);\r\n  const lenisRef = useRef<Lenis | null>(null);\r\n\r\n  useEffect(() => {\r\n    gsap.registerPlugin(ScrollTrigger);\r\n\r\n    const triggerElement = parallaxRef.current?.querySelector(\r\n      \"[data-parallax-layers]\",\r\n    );\r\n\r\n    if (triggerElement) {\r\n      const tl = gsap.timeline({\r\n        scrollTrigger: {\r\n          trigger: triggerElement,\r\n          start: \"0% 0%\",\r\n          end: \"100% 0%\",\r\n          scrub: 0,\r\n        },\r\n      });\r\n\r\n      layers.forEach((layerObj, idx) => {\r\n        tl.to(\r\n          triggerElement.querySelectorAll(\r\n            `[data-parallax-layer=\"${layerObj.layer}\"]`,\r\n          ),\r\n          {\r\n            yPercent: layerObj.yPercent,\r\n            ease: \"none\",\r\n          },\r\n          idx === 0 ? undefined : \"<\",\r\n        );\r\n      });\r\n    }\r\n\r\n    const lenis = new Lenis();\r\n    lenisRef.current = lenis;\r\n\r\n    lenis.on(\"scroll\", ScrollTrigger.update);\r\n    gsap.ticker.add((time) => {\r\n      lenis.raf(time * 1000);\r\n    });\r\n    gsap.ticker.lagSmoothing(0);\r\n\r\n    return () => {\r\n      for (const st of ScrollTrigger.getAll()) {\r\n        st.kill();\r\n      }\r\n      if (triggerElement) {\r\n        gsap.killTweensOf(triggerElement);\r\n      }\r\n      lenis.destroy();\r\n      gsap.ticker.remove((time) => {\r\n        lenis.raf(time * 1000);\r\n      });\r\n    };\r\n  }, [layers]);\r\n\r\n  return (\r\n    <div ref={parallaxRef} className={cn(\"relative\", classNames?.wrapper)}>\r\n      <section className={cn(\"relative\", classNames?.section)}>\r\n        <div className={cn(\"relative overflow-hidden\", classNames?.container)}>\r\n          <div\r\n            data-parallax-layers\r\n            className={cn(\"relative\", classNames?.layers)}\r\n          >\r\n            {children}\r\n          </div>\r\n          <div\r\n            className={cn(\r\n              \"pointer-events-none absolute inset-x-0 bottom-0 h-[10vw] bg-linear-to-t from-dark-background to-transparent\",\r\n              classNames?.fade,\r\n            )}\r\n          />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}