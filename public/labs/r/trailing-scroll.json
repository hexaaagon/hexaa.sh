{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "trailing-scroll",
  "type": "registry:component",
  "description": "element go slower or faster based on scroll and more cooler",
  "dependencies": [
    "gsap"
  ],
  "files": [
    {
      "path": "labs-registry/components-v1/trailing-scroll.tsx",
      "content": "\"use client\";\n\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useEffect } from \"react\";\n\nif (typeof window !== \"undefined\") {\n  gsap.registerPlugin(ScrollTrigger);\n}\n\nexport interface TrailingEffectProps {\n  elements: (ParallaxImage | ParallaxElement)[];\n  className?: string;\n  containerClassName?: string;\n  speedMultiplier?: number;\n  startY?: number;\n  fadeStart?: string;\n  fadeEnd?: string;\n  scrub?: boolean | number;\n}\n\nexport interface ParallaxImage {\n  id: string;\n  src: string;\n  alt: string;\n  speed: number;\n  className: string;\n  width?: number;\n}\n\nexport interface ParallaxElement {\n  id: string;\n  component: React.ReactNode;\n  speed: number;\n  className: string;\n}\n\nexport default function TrailingScroll({\n  elements,\n  className = \"\",\n  containerClassName = \"\",\n  speedMultiplier = 100,\n  startY = 100,\n  fadeStart = \"top bottom\",\n  fadeEnd = \"bottom top\",\n  scrub = true,\n}: TrailingEffectProps) {\n  useEffect(() => {\n    const section = document.querySelector(\"[data-trailing-section]\");\n    if (!section) return;\n\n    const triggers: ScrollTrigger[] = [];\n\n    // Parallax animation function\n    function parallaxScrollBySpeed(selector: string, speed = 1) {\n      const el = document.querySelector(selector);\n      if (!el) return;\n\n      const animation = gsap.fromTo(\n        el,\n        { y: startY, opacity: 1 },\n        {\n          y: (speed - 1) * -speedMultiplier,\n          opacity: 1,\n          ease: \"none\",\n          scrollTrigger: {\n            trigger: section,\n            start: fadeStart,\n            end: fadeEnd,\n            scrub: scrub,\n          },\n        },\n      );\n\n      const trigger = animation.scrollTrigger;\n      if (trigger) {\n        triggers.push(trigger);\n      }\n    }\n\n    // Apply parallax to each element with a slight delay to ensure DOM is ready\n    const timeoutId = setTimeout(() => {\n      elements.forEach((element) => {\n        parallaxScrollBySpeed(`[data-parallax=\"${element.id}\"]`, element.speed);\n      });\n\n      // Refresh ScrollTrigger to recalculate positions after all animations are set\n      ScrollTrigger.refresh();\n    }, 100);\n\n    // Cleanup function\n    return () => {\n      clearTimeout(timeoutId);\n      triggers.forEach((trigger) => {\n        trigger.kill();\n      });\n    };\n  }, [elements, speedMultiplier, startY, fadeStart, fadeEnd, scrub]);\n\n  return (\n    <div\n      data-trailing-section\n      className={`pointer-events-none absolute bottom-0 w-full ${containerClassName}`}\n    >\n      <div className={`absolute inset-0 ${className}`}>\n        {elements.map((element) => {\n          if (isParallaxImage(element)) {\n            return (\n              <img\n                key={element.id}\n                data-parallax={element.id}\n                src={element.src}\n                alt={element.alt}\n                width={element.width}\n                className={element.className}\n              />\n            );\n          }\n\n          return (\n            <div\n              key={element.id}\n              data-parallax={element.id}\n              className={element.className}\n            >\n              {element.component}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction isParallaxImage(\n  element: ParallaxImage | ParallaxElement,\n): element is ParallaxImage {\n  return \"src\" in element;\n}\n",
      "type": "registry:component"
    }
  ]
}